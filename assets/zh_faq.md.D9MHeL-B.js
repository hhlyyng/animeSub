import{_ as a,o as i,c as t,a2 as e}from"./chunks/framework.D3n7QxxD.js";const c=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"zh/faq.md","filePath":"zh/faq.md"}'),n={name:"zh/faq.md"};function l(o,s,h,p,r,d){return i(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h1><h2 id="如何获取-tmdb-api-token" tabindex="-1">如何获取 TMDB API Token？ <a class="header-anchor" href="#如何获取-tmdb-api-token" aria-label="Permalink to &quot;如何获取 TMDB API Token？&quot;">​</a></h2><ol><li>访问 <a href="https://www.themoviedb.org/" target="_blank" rel="noreferrer">TMDB 官网</a> 注册账号（免费）</li><li>进入 <a href="https://www.themoviedb.org/settings/api" target="_blank" rel="noreferrer">账户设置 → API</a></li><li>申请 Developer（开发者）类型的 API 密钥</li><li>审批通过后，在页面找到 <strong>API Read Access Token</strong>（以 <code>eyJ</code> 开头的长字符串）</li><li>将该 Token 填入 AnimeSub 安装向导的第 3 步，或在设置页面更新</li></ol><blockquote><p><strong>注意</strong>：需要填写的是 &quot;API Read Access Token&quot;（Bearer Token），<strong>不是</strong> 较短的 &quot;API Key&quot;。</p></blockquote><h2 id="tmdb-token-是必填的吗" tabindex="-1">TMDB Token 是必填的吗？ <a class="header-anchor" href="#tmdb-token-是必填的吗" aria-label="Permalink to &quot;TMDB Token 是必填的吗？&quot;">​</a></h2><p>不是必填项。不填写 TMDB Token 时：</p><ul><li>动漫仍然正常展示（来自 Bangumi）</li><li>英文标题、英文简介将不可用</li><li>横版背景图将不可用（只显示竖版封面）</li><li>Top 10 排行中的 AniList 和 MAL 功能不受影响</li></ul><h2 id="qbittorrent-连接失败怎么办" tabindex="-1">qBittorrent 连接失败怎么办？ <a class="header-anchor" href="#qbittorrent-连接失败怎么办" aria-label="Permalink to &quot;qBittorrent 连接失败怎么办？&quot;">​</a></h2><p>请按以下步骤排查：</p><ol><li><strong>确认 WebUI 已启用</strong>：打开 qBittorrent → 工具 → 选项 → Web 用户界面 → 勾选&quot;启用 Web 用户界面&quot;</li><li><strong>确认端口正确</strong>：默认端口是 8080，如果已修改请填写实际端口</li><li><strong>确认 IP 地址</strong>： <ul><li>如果 qBittorrent 和 AnimeSub 在同一台机器：填 <code>localhost</code> 或 <code>127.0.0.1</code></li><li>如果在不同机器：填 qBittorrent 所在机器的局域网 IP（如 <code>192.168.1.100</code>）</li><li>Docker 内访问宿主机：填 <code>host.docker.internal</code>（Windows/Mac）</li></ul></li><li><strong>确认用户名密码正确</strong>：在浏览器直接访问 <code>http://IP:8080</code> 验证</li><li><strong>检查防火墙</strong>：确认 8080 端口没有被防火墙拦截</li></ol><h2 id="如何修改应用端口" tabindex="-1">如何修改应用端口？ <a class="header-anchor" href="#如何修改应用端口" aria-label="Permalink to &quot;如何修改应用端口？&quot;">​</a></h2><p>编辑 <code>docker-compose.yml</code> 中的 <code>ports</code> 配置：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;8888:80&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 左边的 8888 是你访问时用的端口</span></span></code></pre></div><p>修改后重新启动：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h2 id="数据存储在哪里" tabindex="-1">数据存储在哪里？ <a class="header-anchor" href="#数据存储在哪里" aria-label="Permalink to &quot;数据存储在哪里？&quot;">​</a></h2><p>所有持久化数据存储在 Docker 数据卷映射的 <code>./config</code> 目录下：</p><table tabindex="0"><thead><tr><th>文件</th><th>内容</th></tr></thead><tbody><tr><td><code>./config/anime.db</code></td><td>SQLite 数据库（动漫数据、订阅、下载历史）</td></tr><tr><td><code>./config/appsettings.runtime.json</code></td><td>运行时配置（qBittorrent、API Token、Auth 等）</td></tr></tbody></table><h2 id="如何重置账户密码" tabindex="-1">如何重置账户密码？ <a class="header-anchor" href="#如何重置账户密码" aria-label="Permalink to &quot;如何重置账户密码？&quot;">​</a></h2><p>删除运行时配置文件并重启，系统会重新进入安装向导：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除运行时配置（只删除配置，数据库保留）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./config/appsettings.runtime.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>访问 <code>http://localhost:3000</code>，系统会跳转到安装向导重新配置。</p><blockquote><p><strong>注意</strong>：这不会删除数据库（订阅和下载历史）。如需完全重置，删除整个 <code>./config</code> 目录。</p></blockquote><h2 id="订阅未自动下载怎么排查" tabindex="-1">订阅未自动下载怎么排查？ <a class="header-anchor" href="#订阅未自动下载怎么排查" aria-label="Permalink to &quot;订阅未自动下载怎么排查？&quot;">​</a></h2><p>按以下顺序检查：</p><ol><li><strong>确认订阅状态为&quot;已启用&quot;</strong>（订阅列表页面查看）</li><li><strong>确认 RSS 轮询已开启</strong>：设置页面检查 <code>EnablePolling: true</code></li><li><strong>手动触发一次检查</strong>：点击订阅旁边的&quot;检查&quot;按钮，查看是否有新资源</li><li><strong>确认 qBittorrent 连接正常</strong>：设置页面点击&quot;测试连接&quot;</li><li><strong>检查关键词过滤是否过于严格</strong>：尝试清空包含/排除关键词后再手动检查</li><li><strong>查看日志</strong>：<code>docker compose logs animesub</code> 查看详细错误信息</li></ol><h2 id="如何查看应用日志" tabindex="-1">如何查看应用日志？ <a class="header-anchor" href="#如何查看应用日志" aria-label="Permalink to &quot;如何查看应用日志？&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看实时日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> animesub</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看最近 100 行日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tail=100</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> animesub</span></span></code></pre></div><h2 id="可以运行多个实例吗" tabindex="-1">可以运行多个实例吗？ <a class="header-anchor" href="#可以运行多个实例吗" aria-label="Permalink to &quot;可以运行多个实例吗？&quot;">​</a></h2><p>不建议。多个实例共享同一个 SQLite 数据库文件时可能发生写冲突。如果需要高可用，请考虑将数据库迁移到 PostgreSQL（需修改代码）。</p><h2 id="更新到新版本" tabindex="-1">更新到新版本 <a class="header-anchor" href="#更新到新版本" aria-label="Permalink to &quot;更新到新版本&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 拉取最新镜像</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启服务（数据不会丢失）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div>`,32)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};

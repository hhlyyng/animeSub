import{_ as t,o as n,c as e,a2 as s}from"./chunks/framework.D3n7QxxD.js";const u=JSON.parse('{"title":"功能说明","description":"","frontmatter":{},"headers":[],"relativePath":"zh/features.md","filePath":"zh/features.md"}'),i={name:"zh/features.md"};function l(r,a,o,d,p,h){return n(),e("div",null,[...a[0]||(a[0]=[s(`<h1 id="功能说明" tabindex="-1">功能说明 <a class="header-anchor" href="#功能说明" aria-label="Permalink to &quot;功能说明&quot;">​</a></h1><h2 id="每日放送" tabindex="-1">每日放送 <a class="header-anchor" href="#每日放送" aria-label="Permalink to &quot;每日放送&quot;">​</a></h2><p>主页展示当天放送的动漫，数据从 Bangumi 实时获取，并通过 TMDB 和 AniList 补充英文元数据和横版背景图。</p><ul><li>按星期显示放送计划，支持手动切换日期</li><li>每部动漫展示：竖版封面、评分、中英文标题</li><li>点击动漫卡片打开详情弹窗，包含：横版背景图、中英文简介、外部链接（Bangumi / TMDB / AniList / MAL）</li><li>数据在 sessionStorage 中缓存，刷新页面不重复请求</li></ul><h2 id="top-10-排行" tabindex="-1">Top 10 排行 <a class="header-anchor" href="#top-10-排行" aria-label="Permalink to &quot;Top 10 排行&quot;">​</a></h2><p>主页同时展示三个数据源的 Top 10 排行，横向滚动卡片展示：</p><table tabindex="0"><thead><tr><th>排行榜</th><th>数据来源</th><th>说明</th></tr></thead><tbody><tr><td>Bangumi Top 10</td><td>Bangumi 评分排行</td><td>日本动漫评分权威数据库</td></tr><tr><td>AniList Trending</td><td>AniList 趋势排行</td><td>基于近期观看和讨论热度</td></tr><tr><td>MAL Top 10</td><td>MyAnimeList via Jikan API</td><td>全球最大动漫社区排行</td></tr></tbody></table><h2 id="搜索与资源" tabindex="-1">搜索与资源 <a class="header-anchor" href="#搜索与资源" aria-label="Permalink to &quot;搜索与资源&quot;">​</a></h2><p>通过搜索功能找到想看的番剧资源：</p><ol><li>以 Mikan 为主搜索源，解析番剧 RSS 页面</li><li>展示资源列表，可按以下条件筛选： <ul><li>分辨率（1080p / 720p / 4K）</li><li>字幕类型（简中 / 繁中 / 多语言）</li><li>字幕组</li></ul></li><li>一键发送到 qBittorrent 下载</li></ol><h2 id="订阅管理" tabindex="-1">订阅管理 <a class="header-anchor" href="#订阅管理" aria-label="Permalink to &quot;订阅管理&quot;">​</a></h2><p>订阅是自动下载的核心功能。每个订阅绑定一部番剧，系统定期检查 Mikan RSS，自动下载新资源。</p><h3 id="创建订阅" tabindex="-1">创建订阅 <a class="header-anchor" href="#创建订阅" aria-label="Permalink to &quot;创建订阅&quot;">​</a></h3><p>在番剧详情页或搜索页面点击&quot;订阅&quot;按钮，配置以下选项：</p><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>番剧名称</td><td>显示名称</td></tr><tr><td>Mikan 番剧 ID</td><td>用于构建 RSS URL（从 Mikan 番剧页面获取）</td></tr><tr><td>字幕组</td><td>指定特定字幕组（留空则接收全部）</td></tr><tr><td>包含关键词</td><td>逗号分隔，资源标题必须包含这些词</td></tr><tr><td>排除关键词</td><td>逗号分隔，资源标题包含这些词则跳过</td></tr></tbody></table><p><strong>示例</strong>：订阅 ANi 字幕组的 1080p 简体中文资源</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>字幕组：ANi</span></span>
<span class="line"><span>包含关键词：1080p,简体</span></span>
<span class="line"><span>排除关键词：HEVC</span></span></code></pre></div><h3 id="订阅状态" tabindex="-1">订阅状态 <a class="header-anchor" href="#订阅状态" aria-label="Permalink to &quot;订阅状态&quot;">​</a></h3><table tabindex="0"><thead><tr><th>状态</th><th>说明</th></tr></thead><tbody><tr><td>已启用</td><td>后台轮询会处理该订阅</td></tr><tr><td>已禁用</td><td>暂停轮询，下载历史保留</td></tr></tbody></table><h3 id="手动检查" tabindex="-1">手动检查 <a class="header-anchor" href="#手动检查" aria-label="Permalink to &quot;手动检查&quot;">​</a></h3><p>在订阅列表中点击&quot;检查&quot;按钮，立即触发一次 RSS 检查（无需等待下次定时轮询）。</p><h2 id="自动下载" tabindex="-1">自动下载 <a class="header-anchor" href="#自动下载" aria-label="Permalink to &quot;自动下载&quot;">​</a></h2><p>后台 <code>RssPollingService</code> 服务按照配置的间隔（默认 30 分钟）运行，处理所有已启用的订阅。</p><h3 id="轮询流程" tabindex="-1">轮询流程 <a class="header-anchor" href="#轮询流程" aria-label="Permalink to &quot;轮询流程&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. 检查 EnablePolling 是否为 true</span></span>
<span class="line"><span>2. 获取所有已启用的订阅</span></span>
<span class="line"><span>3. 对每个订阅：</span></span>
<span class="line"><span>   a. 向 Mikan 发送 RSS 请求</span></span>
<span class="line"><span>   b. 解析 XML，提取种子列表</span></span>
<span class="line"><span>   c. 按 TorrentHash 查询 DownloadHistory（去重）</span></span>
<span class="line"><span>   d. 对未下载的资源：</span></span>
<span class="line"><span>      - 匹配字幕组筛选</span></span>
<span class="line"><span>      - 关键词包含/排除过滤</span></span>
<span class="line"><span>   e. 将通过过滤的种子推送到 qBittorrent</span></span>
<span class="line"><span>   f. 记录到 DownloadHistory（防止重复下载）</span></span>
<span class="line"><span>   g. 更新订阅的 LastDownloadAt 和 DownloadCount</span></span></code></pre></div><h3 id="下载历史" tabindex="-1">下载历史 <a class="header-anchor" href="#下载历史" aria-label="Permalink to &quot;下载历史&quot;">​</a></h3><p>每次下载都记录以下信息：</p><ul><li>资源标题</li><li>种子哈希（唯一标识，防止重复）</li><li>文件大小</li><li>下载状态（待下载 / 下载中 / 完成 / 失败 / 跳过）</li><li>发现时间和下载时间</li></ul><h2 id="下载管理" tabindex="-1">下载管理 <a class="header-anchor" href="#下载管理" aria-label="Permalink to &quot;下载管理&quot;">​</a></h2><p>查看 qBittorrent 中所有种子的状态：</p><ul><li>种子名称、大小、进度</li><li>下载/上传速度</li><li>暂停 / 恢复 / 删除操作（同步到 qBittorrent）</li></ul><h2 id="web-设置" tabindex="-1">Web 设置 <a class="header-anchor" href="#web-设置" aria-label="Permalink to &quot;Web 设置&quot;">​</a></h2><p>无需 SSH 或直接编辑配置文件，所有配置均可在浏览器中完成：</p><ul><li><strong>qBittorrent 连接</strong>：主机/端口/账密，支持测试连接</li><li><strong>TMDB Token</strong>：填写或更新 API Token</li><li><strong>轮询间隔</strong>：修改 RSS 检查频率</li><li><strong>语言切换</strong>：中文/英文界面切换（持久化到 localStorage）</li></ul>`,34)])])}const b=t(i,[["render",l]]);export{u as __pageData,b as default};

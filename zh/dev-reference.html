<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发参考 | AnimeSub</title>
    <meta name="description" content="动漫订阅与自动下载应用">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/AnimeSub/assets/style.B0oIqV-9.css" as="style">
    <link rel="preload stylesheet" href="/AnimeSub/vp-icons.css" as="style">
    
    <script type="module" src="/AnimeSub/assets/app.BBsm8TV0.js"></script>
    <link rel="preload" href="/AnimeSub/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/AnimeSub/assets/chunks/theme.gJreicwm.js">
    <link rel="modulepreload" href="/AnimeSub/assets/chunks/framework.D3n7QxxD.js">
    <link rel="modulepreload" href="/AnimeSub/assets/zh_dev-reference.md.BCK0ZQUc.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/AnimeSub/zh/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>AnimeSub</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/AnimeSub/zh/introduction.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>项目介绍</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/AnimeSub/zh/quick-start.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>快速开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/AnimeSub/zh/configuration.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>详细文档</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-9fd4d1dd data-v-acee064b data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-bfe7971f><span class="text" data-v-bfe7971f><span class="vpi-languages option-icon" data-v-bfe7971f></span><!----><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><div class="items" data-v-acee064b><p class="title" data-v-acee064b>中文</p><!--[--><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/AnimeSub/en/dev-reference.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hhlyyng/anime-subscription" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><div class="group translations" data-v-f953d92f><p class="trans-title" data-v-f953d92f>中文</p><!--[--><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/AnimeSub/en/dev-reference.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hhlyyng/anime-subscription" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>指南</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/introduction.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>项目介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/quick-start.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>快速开始</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>参考</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/configuration.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>配置参考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/features.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>功能说明</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>开发参考</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/dev-reference.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>架构 & 文件说明 & API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>其他</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/faq.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AnimeSub/zh/changelog.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>更新日志</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _AnimeSub_zh_dev-reference" data-v-e6f2a212><div><h1 id="开发参考" tabindex="-1">开发参考 <a class="header-anchor" href="#开发参考" aria-label="Permalink to &quot;开发参考&quot;">​</a></h1><p>本文档记录系统当前架构、所有源文件作用及后端完整 API 列表，供开发者参考。</p><hr><h2 id="系统架构图" tabindex="-1">系统架构图 <a class="header-anchor" href="#系统架构图" aria-label="Permalink to &quot;系统架构图&quot;">​</a></h2><h3 id="整体架构" tabindex="-1">整体架构 <a class="header-anchor" href="#整体架构" aria-label="Permalink to &quot;整体架构&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                         用户浏览器                                │</span></span>
<span class="line"><span>│                                                                  │</span></span>
<span class="line"><span>│  React 19 + TypeScript + Vite + Tailwind CSS + Zustand          │</span></span>
<span class="line"><span>│                                                                  │</span></span>
<span class="line"><span>│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────────┐  │</span></span>
<span class="line"><span>│  │ 首页放送  │  │ 搜索/下载 │  │  订阅管理 │  │   系统设置   │  │</span></span>
<span class="line"><span>│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └──────┬───────┘  │</span></span>
<span class="line"><span>│       └─────────────┴──────────────┴────────────────┘          │</span></span>
<span class="line"><span>│                          authFetch()                            │</span></span>
<span class="line"><span>│                     (Bearer JWT + 401 重定向)                   │</span></span>
<span class="line"><span>└─────────────────────────────┬───────────────────────────────────┘</span></span>
<span class="line"><span>                              │ HTTP / JSON</span></span>
<span class="line"><span>                              ▼</span></span>
<span class="line"><span>┌─────────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                     ASP.NET Core 9 后端                          │</span></span>
<span class="line"><span>│                      localhost:5072                              │</span></span>
<span class="line"><span>│                                                                  │</span></span>
<span class="line"><span>│  Middleware Pipeline:                                           │</span></span>
<span class="line"><span>│  CorrelationId → ExceptionHandler → PerfMonitor → ReqLogging   │</span></span>
<span class="line"><span>│                                                                  │</span></span>
<span class="line"><span>│  ┌──────────────────────────────────────────────────────────┐  │</span></span>
<span class="line"><span>│  │                      Controllers                          │  │</span></span>
<span class="line"><span>│  │  AnimeController  │ AuthController  │ SubscriptionCtrl   │  │</span></span>
<span class="line"><span>│  │  MikanController  │ AdminController │ SettingsController  │  │</span></span>
<span class="line"><span>│  │                   HealthController                         │  │</span></span>
<span class="line"><span>│  └──────────┬────────────────────────────────────────────────┘  │</span></span>
<span class="line"><span>│             │                                                    │</span></span>
<span class="line"><span>│  ┌──────────▼────────────────────────────────────────────────┐  │</span></span>
<span class="line"><span>│  │                     Services Layer                         │  │</span></span>
<span class="line"><span>│  │                                                            │  │</span></span>
<span class="line"><span>│  │  AnimeAggregationService   SubscriptionService            │  │</span></span>
<span class="line"><span>│  │  AnimePoolService          AuthService                     │  │</span></span>
<span class="line"><span>│  │  QBittorrentService        MikanClient                     │  │</span></span>
<span class="line"><span>│  └──────────┬──────────────────────────┬──────────────────────┘  │</span></span>
<span class="line"><span>│             │                          │                          │</span></span>
<span class="line"><span>│  ┌──────────▼──────────┐  ┌───────────▼───────────────────────┐  │</span></span>
<span class="line"><span>│  │   Repositories      │  │      Background Services           │  │</span></span>
<span class="line"><span>│  │   AnimeRepository   │  │  AnimePreFetchService (每日03:00)  │  │</span></span>
<span class="line"><span>│  │ SubscriptionRepo    │  │  RssPollingService   (每30分钟)    │  │</span></span>
<span class="line"><span>│  └──────────┬──────────┘  │  DownloadProgressSync (实时同步)   │  │</span></span>
<span class="line"><span>│             │              │  AnimeTitleBackfill  (补全标题)    │  │</span></span>
<span class="line"><span>│  ┌──────────▼──────────┐  │  MikanFeedCleanup    (清理缓存)   │  │</span></span>
<span class="line"><span>│  │   SQLite Database   │  └───────────────────────────────────┘  │</span></span>
<span class="line"><span>│  │   (anime.db)        │                                          │</span></span>
<span class="line"><span>│  │                     │                                          │</span></span>
<span class="line"><span>│  │  AnimeInfo          │                                          │</span></span>
<span class="line"><span>│  │  AnimeImages        │                                          │</span></span>
<span class="line"><span>│  │  Subscriptions      │                                          │</span></span>
<span class="line"><span>│  │  DownloadHistory    │                                          │</span></span>
<span class="line"><span>│  │  DailyScheduleCache │                                          │</span></span>
<span class="line"><span>│  │  MikanFeedCache     │                                          │</span></span>
<span class="line"><span>│  │  MikanFeedItem      │                                          │</span></span>
<span class="line"><span>│  │  MikanSubgroup      │                                          │</span></span>
<span class="line"><span>│  │  TopAnimeCache      │                                          │</span></span>
<span class="line"><span>│  │  User               │                                          │</span></span>
<span class="line"><span>│  └─────────────────────┘                                          │</span></span>
<span class="line"><span>└─────────────────────────────────────────────────────────────────┘</span></span>
<span class="line"><span>                              │</span></span>
<span class="line"><span>          ┌───────────────────┼──────────────────────┐</span></span>
<span class="line"><span>          ▼                   ▼                        ▼</span></span>
<span class="line"><span>┌─────────────────┐  ┌──────────────────┐  ┌─────────────────────┐</span></span>
<span class="line"><span>│   Bangumi API   │  │    TMDB API      │  │   AniList GraphQL   │</span></span>
<span class="line"><span>│ api.bgm.tv/v0   │  │ api.tmdb.org/3   │  │  graphql.anilist.co │</span></span>
<span class="line"><span>│                 │  │                  │  │                     │</span></span>
<span class="line"><span>│ 每日放送时间表  │  │ 英文元数据       │  │ 英文标题/简介       │</span></span>
<span class="line"><span>│ 评分排行榜      │  │ 横版背景图       │  │ 趋势排行榜          │</span></span>
<span class="line"><span>│ 动漫详情        │  │ 智能季度匹配     │  │ (备用来源)          │</span></span>
<span class="line"><span>└─────────────────┘  └──────────────────┘  └─────────────────────┘</span></span>
<span class="line"><span>          │</span></span>
<span class="line"><span>          ├─────────────────────────┐</span></span>
<span class="line"><span>          ▼                         ▼</span></span>
<span class="line"><span>┌─────────────────┐       ┌──────────────────────┐</span></span>
<span class="line"><span>│   Jikan API     │       │     Mikan RSS         │</span></span>
<span class="line"><span>│ api.jikan.moe   │       │   mikanani.me         │</span></span>
<span class="line"><span>│                 │       │                       │</span></span>
<span class="line"><span>│ MAL Top 10      │       │ 番剧 RSS 种子列表     │</span></span>
<span class="line"><span>│ (MyAnimeList)   │       │ 字幕组分组信息        │</span></span>
<span class="line"><span>└─────────────────┘       └──────────┬────────────┘</span></span>
<span class="line"><span>                                     │</span></span>
<span class="line"><span>                          ┌──────────▼────────────┐</span></span>
<span class="line"><span>                          │    qBittorrent WebUI  │</span></span>
<span class="line"><span>                          │    localhost:8080      │</span></span>
<span class="line"><span>                          │                       │</span></span>
<span class="line"><span>                          │  种子添加/暂停/恢复   │</span></span>
<span class="line"><span>                          │  下载进度查询         │</span></span>
<span class="line"><span>                          └───────────────────────┘</span></span></code></pre></div><h3 id="数据聚合流程" tabindex="-1">数据聚合流程 <a class="header-anchor" href="#数据聚合流程" aria-label="Permalink to &quot;数据聚合流程&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/anime/today</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        ▼</span></span>
<span class="line"><span>AnimeAggregationService</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        ├─① 查询 SQLite (GetAnimesByWeekdayAsync)</span></span>
<span class="line"><span>        │         │</span></span>
<span class="line"><span>        │    有预取数据? ──是──► 返回 DB 数据 (&lt;100ms)</span></span>
<span class="line"><span>        │         │</span></span>
<span class="line"><span>        │         否</span></span>
<span class="line"><span>        │         ▼</span></span>
<span class="line"><span>        ├─② Bangumi API</span></span>
<span class="line"><span>        │   GET /v0/calendar → 获取本周放送</span></span>
<span class="line"><span>        │   每部番剧: id, name, air_date, score, 封面图</span></span>
<span class="line"><span>        │         │</span></span>
<span class="line"><span>        ├─③ TMDB API (并发)</span></span>
<span class="line"><span>        │   搜索番剧名 → 智能匹配 (Animation优先/JP优先/年份过滤)</span></span>
<span class="line"><span>        │   GET /3/search/tv → GET /3/tv/{id}/season/{n}</span></span>
<span class="line"><span>        │   提取: 英文标题, 英文简介, 横版背景图</span></span>
<span class="line"><span>        │         │</span></span>
<span class="line"><span>        └─④ AniList GraphQL (备用)</span></span>
<span class="line"><span>            query { Media } → 英文标题/简介 (Bangumi有数据时跳过)</span></span>
<span class="line"><span>                    │</span></span>
<span class="line"><span>                    ▼</span></span>
<span class="line"><span>             AnimeInfo[] → 返回前端 → 缓存至 sessionStorage</span></span></code></pre></div><h3 id="预取架构" tabindex="-1">预取架构 <a class="header-anchor" href="#预取架构" aria-label="Permalink to &quot;预取架构&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>AnimePreFetchService (BackgroundService)</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        ├── 启动时: RunOnStartup=true → 立即执行一次</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        └── 定时: 每天 ScheduleHour (默认凌晨3点)</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ├─ GetFullCalendarAsync() → 获取全周 Bangumi 数据</span></span>
<span class="line"><span>                  ├─ 并发聚合 (MaxConcurrency=3)</span></span>
<span class="line"><span>                  │   每部番剧 → TMDB + AniList 丰富元数据</span></span>
<span class="line"><span>                  └─ 批量写入 SQLite</span></span>
<span class="line"><span>                     设置 IsPreFetched=true</span></span></code></pre></div><h3 id="订阅下载流程" tabindex="-1">订阅下载流程 <a class="header-anchor" href="#订阅下载流程" aria-label="Permalink to &quot;订阅下载流程&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>RssPollingService (每30分钟)</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        ├─ 检查 EnablePolling 配置</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        └─ 遍历所有 IsEnabled=true 的订阅</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ▼</span></span>
<span class="line"><span>          MikanClient.GetFeedAsync(mikanBangumiId, subgroupId)</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ▼</span></span>
<span class="line"><span>          解析 RSS XML → MikanFeedItem[]</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ▼</span></span>
<span class="line"><span>          过滤流程:</span></span>
<span class="line"><span>          ┌─────────────────────────────────────┐</span></span>
<span class="line"><span>          │ 1. TorrentHash ∈ DownloadHistory?  │</span></span>
<span class="line"><span>          │    是 → 跳过 (已下载)              │</span></span>
<span class="line"><span>          │    否 → 继续                        │</span></span>
<span class="line"><span>          │ 2. 字幕组 ID 匹配?                 │</span></span>
<span class="line"><span>          │    不匹配 → 跳过                   │</span></span>
<span class="line"><span>          │ 3. KeywordInclude 全部命中?        │</span></span>
<span class="line"><span>          │    否 → 跳过                        │</span></span>
<span class="line"><span>          │ 4. KeywordExclude 任一命中?        │</span></span>
<span class="line"><span>          │    是 → 跳过                        │</span></span>
<span class="line"><span>          └─────────────────────────────────────┘</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ▼ (通过过滤)</span></span>
<span class="line"><span>          QBittorrentService.AddTorrentAsync()</span></span>
<span class="line"><span>                  │</span></span>
<span class="line"><span>                  ▼</span></span>
<span class="line"><span>          写入 DownloadHistory (Status=Downloading)</span></span>
<span class="line"><span>          更新 Subscription.LastDownloadAt</span></span></code></pre></div><hr><h2 id="后端文件清单" tabindex="-1">后端文件清单 <a class="header-anchor" href="#后端文件清单" aria-label="Permalink to &quot;后端文件清单&quot;">​</a></h2><h3 id="controllers" tabindex="-1">Controllers <a class="header-anchor" href="#controllers" aria-label="Permalink to &quot;Controllers&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>路由前缀</th><th>说明</th></tr></thead><tbody><tr><td><code>Controllers/AnimeController.cs</code></td><td><code>/api/anime</code></td><td>动漫数据聚合：今日放送、Top10、搜索、随机推荐、批量查询</td></tr><tr><td><code>Controllers/AuthController.cs</code></td><td><code>/api/auth</code></td><td>认证系统：登录、注册、安装向导、修改密码、背景图管理</td></tr><tr><td><code>Controllers/SubscriptionController.cs</code></td><td><code>/api/subscription</code></td><td>订阅管理：CRUD、手动检查、下载历史、任务 Hash 查询</td></tr><tr><td><code>Controllers/MikanController.cs</code></td><td><code>/api/mikan</code></td><td>Mikan 操作：RSS 搜索/解析/过滤、种子下载、qBittorrent 控制</td></tr><tr><td><code>Controllers/AdminController.cs</code></td><td><code>/api/admin</code></td><td>管理接口：预取状态、手动触发预取、数据库统计、清空数据</td></tr><tr><td><code>Controllers/SettingsController.cs</code></td><td><code>/api/settings</code></td><td>设置管理：Token 读写、用户配置、连接测试</td></tr><tr><td><code>Controllers/HealthController.cs</code></td><td><code>/health</code></td><td>健康检查：基础心跳、外部 API 依赖检查</td></tr></tbody></table><h3 id="services-interfaces" tabindex="-1">Services/Interfaces <a class="header-anchor" href="#services-interfaces" aria-label="Permalink to &quot;Services/Interfaces&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>IAnimeAggregationService.cs</code></td><td>数据聚合服务接口：定义今日放送、Top10、搜索等聚合方法</td></tr><tr><td><code>IAnimePoolService.cs</code></td><td>随机推荐池接口：获取随机番剧列表</td></tr><tr><td><code>IAniListClient.cs</code></td><td>AniList GraphQL 客户端接口</td></tr><tr><td><code>IBangumiClient.cs</code></td><td>Bangumi HTTP 客户端接口：放送、排行、详情</td></tr><tr><td><code>IJikanClient.cs</code></td><td>Jikan（MAL）HTTP 客户端接口</td></tr><tr><td><code>IMikanClient.cs</code></td><td>Mikan RSS 客户端接口：搜索、解析、字幕组</td></tr><tr><td><code>IQBittorrentService.cs</code></td><td>qBittorrent WebUI 接口：添加/暂停/恢复/删除/查询</td></tr><tr><td><code>ISubscriptionService.cs</code></td><td>订阅业务逻辑接口</td></tr><tr><td><code>ITMDBClient.cs</code></td><td>TMDB API 客户端接口：搜索、季度图片</td></tr><tr><td><code>IAuthService.cs</code></td><td>认证服务接口：登录验证、JWT 生成、密码修改</td></tr><tr><td><code>ITorrentTitleParser.cs</code></td><td>种子标题解析接口：提取集数、分辨率、字幕组</td></tr></tbody></table><h3 id="services-implementations" tabindex="-1">Services/Implementations <a class="header-anchor" href="#services-implementations" aria-label="Permalink to &quot;Services/Implementations&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>AnimeAggregationService.cs</code></td><td>核心聚合服务：协调 Bangumi→TMDB→AniList 数据，DB 优先读取</td></tr><tr><td><code>AnimePoolService.cs</code></td><td>随机推荐池：内存缓存 + SQLite L2 备选，启动时预热</td></tr><tr><td><code>AnimePoolBuilderService.cs</code></td><td>推荐池构建器：从 AniList 获取热门番剧填充推荐池</td></tr><tr><td><code>AniListClient.cs</code></td><td>AniList GraphQL 客户端实现：trending 查询、标题/简介提取</td></tr><tr><td><code>BangumiClient.cs</code></td><td>Bangumi API 实现：<code>/v0/calendar</code>、<code>/v0/subjects</code> 排行</td></tr><tr><td><code>JikanClient.cs</code></td><td>Jikan API 实现：<code>/v4/top/anime</code> MAL 排行</td></tr><tr><td><code>MikanClient.cs</code></td><td>Mikan 实现：HtmlAgilityPack 解析番剧页、XML 解析 RSS</td></tr><tr><td><code>QBittorrentService.cs</code></td><td>qBittorrent WebUI API 封装：登录 cookie 管理、种子操作</td></tr><tr><td><code>SubscriptionService.cs</code></td><td>订阅业务逻辑：CRUD、RSS 检查、关键词过滤</td></tr><tr><td><code>TMDBClient.cs</code></td><td>TMDB 实现：TV 搜索 + Animation 优先匹配 + 季度图片</td></tr></tbody></table><h3 id="services-background" tabindex="-1">Services/Background <a class="header-anchor" href="#services-background" aria-label="Permalink to &quot;Services/Background&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>触发时机</th><th>说明</th></tr></thead><tbody><tr><td><code>AnimePreFetchService.cs</code></td><td>启动时 + 每日凌晨3点</td><td>批量预取全周放送数据写入 SQLite</td></tr><tr><td><code>RssPollingService.cs</code></td><td>启动30秒后 + 每30分钟</td><td>检查所有订阅 RSS，自动下载新种子</td></tr><tr><td><code>DownloadProgressSyncService.cs</code></td><td>后台持续运行</td><td>定期同步 qBittorrent 下载进度到 DownloadHistory</td></tr><tr><td><code>AnimeTitleBackfillService.cs</code></td><td>启动时</td><td>补全数据库中缺失的中文标题（Bangumi fallback）</td></tr><tr><td><code>MikanFeedSubgroupCleanupService.cs</code></td><td>定期</td><td>清理过期的 Mikan Feed 缓存数据</td></tr></tbody></table><h3 id="services-repositories" tabindex="-1">Services/Repositories <a class="header-anchor" href="#services-repositories" aria-label="Permalink to &quot;Services/Repositories&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>IAnimeRepository.cs</code> / <code>AnimeRepository.cs</code></td><td>动漫数据访问：按星期查询、批量写入、Top 缓存管理</td></tr><tr><td><code>ISubscriptionRepository.cs</code> / <code>SubscriptionRepository.cs</code></td><td>订阅数据访问：CRUD、按 Bangumi ID 查询、历史记录</td></tr></tbody></table><h3 id="services-工具类" tabindex="-1">Services（工具类） <a class="header-anchor" href="#services-工具类" aria-label="Permalink to &quot;Services（工具类）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>ApiClientBase.cs</code></td><td>HTTP 客户端基类：统一错误处理、日志、BaseAddress 管理</td></tr><tr><td><code>AnimeCacheService.cs</code></td><td>两级缓存：Memory Cache（L1）+ SQLite（L2）</td></tr><tr><td><code>AuthService.cs</code></td><td>JWT 生成（HMAC-SHA256）、bcrypt 密码哈希、用户验证</td></tr><tr><td><code>HealthCheckService.cs</code></td><td>外部 API 依赖检查（Bangumi/TMDB/AniList 连通性）</td></tr><tr><td><code>TokenStorageService.cs</code></td><td>TMDB Token 加密存储（ASP.NET Data Protection API）</td></tr><tr><td><code>ResilienceService.cs</code></td><td>Polly 重试策略 + 熔断器，保护外部 API 调用</td></tr></tbody></table><h3 id="services-utilities" tabindex="-1">Services/Utilities <a class="header-anchor" href="#services-utilities" aria-label="Permalink to &quot;Services/Utilities&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>Utilities/TitleCleaner.cs</code></td><td>动漫标题规范化：去除噪声字符、统一格式</td></tr><tr><td><code>Utilities/TitleLanguageResolver.cs</code></td><td>标题语言检测：判断中/日/英文</td></tr><tr><td><code>Utils/TorrentHashHelper.cs</code></td><td>种子 Hash 计算辅助</td></tr></tbody></table><h3 id="services-exceptions" tabindex="-1">Services/Exceptions <a class="header-anchor" href="#services-exceptions" aria-label="Permalink to &quot;Services/Exceptions&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>ApiException.cs</code></td><td>通用 API 异常基类</td></tr><tr><td><code>BangumiApiException.cs</code></td><td>Bangumi API 专属异常</td></tr><tr><td><code>ExternalApiException.cs</code></td><td>外部 API 调用失败异常</td></tr><tr><td><code>InvalidCredentialsException.cs</code></td><td>认证凭据无效异常</td></tr><tr><td><code>QBittorrentUnavailableException.cs</code></td><td>qBittorrent 连接不可用异常</td></tr><tr><td><code>ValidationException.cs</code></td><td>请求数据验证失败异常</td></tr></tbody></table><h3 id="data-数据层" tabindex="-1">Data（数据层） <a class="header-anchor" href="#data-数据层" aria-label="Permalink to &quot;Data（数据层）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>Data/AnimeDbContext.cs</code></td><td>EF Core SQLite 上下文，定义所有 DbSet</td></tr><tr><td><code>Data/DbSchemaPatcher.cs</code></td><td>轻量数据库 Schema 迁移（补丁模式）</td></tr><tr><td><code>Data/Entities/AnimeInfoEntity.cs</code></td><td>聚合动漫信息（标题/评分/图片/链接/星期/预取状态）</td></tr><tr><td><code>Data/Entities/AnimeImagesEntity.cs</code></td><td>图片缓存（竖版封面 + 横版背景图）</td></tr><tr><td><code>Data/Entities/DailyScheduleCacheEntity.cs</code></td><td>每日放送缓存（日期 → Bangumi ID 数组）</td></tr><tr><td><code>Data/Entities/DownloadHistoryEntity.cs</code></td><td>下载历史（Hash 去重、状态追踪）</td></tr><tr><td><code>Data/Entities/DownloadSource.cs</code></td><td>枚举：Subscription / Manual</td></tr><tr><td><code>Data/Entities/MikanFeedCacheEntity.cs</code></td><td>Mikan RSS Feed 缓存</td></tr><tr><td><code>Data/Entities/MikanFeedItemEntity.cs</code></td><td>单条 Feed 记录（种子标题/URL/Hash）</td></tr><tr><td><code>Data/Entities/MikanSubgroupEntity.cs</code></td><td>字幕组 ID ↔ 名称映射缓存</td></tr><tr><td><code>Data/Entities/SubscriptionEntity.cs</code></td><td>订阅配置（番剧/字幕组/关键词/状态）</td></tr><tr><td><code>Data/Entities/TopAnimeCacheEntity.cs</code></td><td>Top 10 排行缓存（来源/数据/过期时间）</td></tr><tr><td><code>Data/Entities/UserEntity.cs</code></td><td>用户账户（用户名/bcrypt 密码哈希）</td></tr></tbody></table><h3 id="middleware" tabindex="-1">Middleware <a class="header-anchor" href="#middleware" aria-label="Permalink to &quot;Middleware&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>Middleware/CorrelationIdMiddleware.cs</code></td><td>为每个请求添加 <code>X-Correlation-ID</code> 请求追踪 ID</td></tr><tr><td><code>Middleware/ExceptionHandlerMiddleware.cs</code></td><td>全局异常捕获，返回标准化错误 JSON</td></tr><tr><td><code>Middleware/PerformanceMonitoringMiddleware.cs</code></td><td>记录请求耗时，添加 <code>X-Response-Time-Ms</code> 响应头</td></tr><tr><td><code>Middleware/RequestResponseLoggingMiddleware.cs</code></td><td>记录请求/响应日志（路径/状态码/耗时）</td></tr></tbody></table><h3 id="models" tabindex="-1">Models <a class="header-anchor" href="#models" aria-label="Permalink to &quot;Models&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件/目录</th><th>说明</th></tr></thead><tbody><tr><td><code>Models/AnimeResponse.cs</code></td><td>动漫列表响应（含数据来源标识：DB/API）</td></tr><tr><td><code>Models/PreFetchStatus.cs</code></td><td>预取服务状态（运行中/上次执行时间/统计）</td></tr><tr><td><code>Models/ErrorResponse.cs</code></td><td>标准错误响应格式</td></tr><tr><td><code>Models/TMDBAnimeInfo.cs</code></td><td>TMDB 搜索结果映射模型</td></tr><tr><td><code>Models/AniListAnimeInfo.cs</code></td><td>AniList GraphQL 响应映射</td></tr><tr><td><code>Models/Dtos/AnimeInfoDto.cs</code></td><td>聚合动漫信息 DTO（前端展示用）</td></tr><tr><td><code>Models/Dtos/AnimeImagesDto.cs</code></td><td>图片 DTO</td></tr><tr><td><code>Models/Dtos/ApiResponseDto.cs</code></td><td>统一 API 响应包装 <code>{ success, data, error }</code></td></tr><tr><td><code>Models/Dtos/BangumiAnimeDto.cs</code></td><td>Bangumi 番剧 DTO</td></tr><tr><td><code>Models/Dtos/ExternalUrlsDto.cs</code></td><td>外部链接（Bangumi/TMDB/AniList/MAL URL）</td></tr><tr><td><code>Models/Dtos/MikanSearchDtos.cs</code></td><td>Mikan 搜索结果 DTO（番剧列表/字幕组）</td></tr><tr><td><code>Models/Dtos/SubscriptionDtos.cs</code></td><td>订阅请求/响应 DTO</td></tr><tr><td><code>Models/Jikan/JikanModels.cs</code></td><td>Jikan API 响应模型</td></tr><tr><td><code>Models/Mikan/MikanRssModels.cs</code></td><td>Mikan RSS XML 解析模型</td></tr><tr><td><code>Models/Configuration/ApiConfiguration.cs</code></td><td>TMDB/Jikan API 配置类</td></tr><tr><td><code>Models/Configuration/MikanConfiguration.cs</code></td><td>Mikan 轮询配置类</td></tr><tr><td><code>Models/Configuration/QBittorrentConfiguration.cs</code></td><td>qBittorrent 连接配置类</td></tr></tbody></table><h3 id="根目录配置文件" tabindex="-1">根目录配置文件 <a class="header-anchor" href="#根目录配置文件" aria-label="Permalink to &quot;根目录配置文件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>Program.cs</code></td><td>应用启动：DI 注册、中间件管道、数据库初始化</td></tr><tr><td><code>appsettings.json</code></td><td>默认配置（日志级别、API 地址、默认值）</td></tr><tr><td><code>appsettings.Development.json</code></td><td>开发环境覆盖配置</td></tr><tr><td><code>appsettings.runtime.json</code></td><td>安装向导写入的运行时配置（优先级最高）</td></tr></tbody></table><hr><h2 id="前端文件清单" tabindex="-1">前端文件清单 <a class="header-anchor" href="#前端文件清单" aria-label="Permalink to &quot;前端文件清单&quot;">​</a></h2><h3 id="入口-路由" tabindex="-1">入口 &amp; 路由 <a class="header-anchor" href="#入口-路由" aria-label="Permalink to &quot;入口 &amp; 路由&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>main.tsx</code></td><td>React 应用入口，挂载 <code>&lt;App /&gt;</code> 到 <code>#root</code></td></tr><tr><td><code>App.tsx</code></td><td>根组件：路由配置（RouterProvider）、认证状态检查、ProtectedRoute</td></tr><tr><td><code>index.css</code></td><td>全局样式 + Tailwind CSS + 自定义 CSS 类（<code>.sidebar-header</code>、<code>.content-header</code>）</td></tr><tr><td><code>config/env.ts</code></td><td>环境变量读取（API base URL 等）</td></tr></tbody></table><h3 id="state-management" tabindex="-1">State Management <a class="header-anchor" href="#state-management" aria-label="Permalink to &quot;State Management&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>stores/useAppStores.tsx</code></td><td>Zustand store，持久化到 localStorage (<code>anime-app-storage</code>)：语言(zh/en)、用户名、Modal 开关状态</td></tr></tbody></table><h3 id="type-definitions" tabindex="-1">Type Definitions <a class="header-anchor" href="#type-definitions" aria-label="Permalink to &quot;Type Definitions&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>types/anime.ts</code></td><td><code>AnimeInfo</code>、<code>AnimeListResponse</code> 等动漫相关类型</td></tr><tr><td><code>types/auth.ts</code></td><td><code>LoginRequest</code>、<code>AuthStatus</code>、<code>SetupRequest</code> 等认证类型</td></tr><tr><td><code>types/mikan.ts</code></td><td><code>MikanFeedItem</code>、<code>TorrentInfo</code>、<code>DownloadRequest</code> 等下载类型</td></tr><tr><td><code>types/settings.ts</code></td><td><code>SettingsProfile</code>、<code>TokenStatus</code> 等设置类型</td></tr><tr><td><code>types/subscription.ts</code></td><td><code>Subscription</code>、<code>SubscriptionRequest</code>、<code>DownloadHistory</code> 等订阅类型</td></tr></tbody></table><h3 id="api-services" tabindex="-1">API Services <a class="header-anchor" href="#api-services" aria-label="Permalink to &quot;API Services&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>services/apiClient.ts</code></td><td>核心 HTTP 封装：<code>authFetch()</code>，自动附加 Bearer Token，401 时清除 Token 并跳转登录</td></tr><tr><td><code>services/authApi.ts</code></td><td>认证接口：<code>login()</code>、<code>getStatus()</code>、<code>setup()</code>、<code>changeCredentials()</code></td></tr><tr><td><code>services/subscriptionApi.ts</code></td><td>订阅接口：CRUD、<code>toggle()</code>、<code>check()</code>、<code>getHistory()</code></td></tr><tr><td><code>services/mikanApi.ts</code></td><td>Mikan 接口：<code>search()</code>、<code>getFeed()</code>、<code>download()</code>、<code>getTorrents()</code>、种子控制</td></tr><tr><td><code>services/settingsApi.ts</code></td><td>设置接口：<code>getProfile()</code>、<code>saveProfile()</code>、<code>testQBittorrent()</code>、Token 管理</td></tr></tbody></table><h3 id="utility-functions" tabindex="-1">Utility Functions <a class="header-anchor" href="#utility-functions" aria-label="Permalink to &quot;Utility Functions&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>utils/formatFileSize.ts</code></td><td>将字节数格式化为人类可读字符串（KB/MB/GB）</td></tr><tr><td><code>utils/torrentState.ts</code></td><td>qBittorrent 种子状态枚举及状态文字/颜色映射</td></tr></tbody></table><h3 id="通用组件-components-common" tabindex="-1">通用组件 (components/common) <a class="header-anchor" href="#通用组件-components-common" aria-label="Permalink to &quot;通用组件 (components/common)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>common/ErrorMessage.tsx</code></td><td>错误信息展示组件，含重试按钮</td></tr><tr><td><code>common/LoadingSpinner.tsx</code></td><td>加载动画组件</td></tr><tr><td><code>common/ToastContainer.tsx</code></td><td>Toast 通知容器（全局消息提示）</td></tr></tbody></table><h3 id="图标组件-components-icons" tabindex="-1">图标组件 (components/icons) <a class="header-anchor" href="#图标组件-components-icons" aria-label="Permalink to &quot;图标组件 (components/icons)&quot;">​</a></h3><p>18 个纯 SVG 图标组件，包括：<code>HomeIcon</code>、<code>DownloadIcon</code>、<code>SettingIcon</code>、<code>SidebarIcon</code>、<code>LanguageToggleIcon</code>、<code>LogoutIcon</code>、<code>GithubIcon</code>、<code>BellIcon</code>、<code>CheckIcon</code>、<code>CloseIcon</code>、<code>ExternalLinkIcon</code>、<code>EyeClosedIcon</code>、<code>EyeOpenIcon</code>、<code>PlayTriangleIcon</code>、<code>SearchIcon</code>、<code>ShuffleIcon</code>、<code>StarIcon</code></p><h3 id="认证功能-features-auth" tabindex="-1">认证功能 (features/auth) <a class="header-anchor" href="#认证功能-features-auth" aria-label="Permalink to &quot;认证功能 (features/auth)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>features/auth/components/LoginBlock.tsx</code></td><td>登录表单：用户名/密码输入、登录按钮、错误提示、背景图展示</td></tr></tbody></table><h3 id="安装向导功能-features-setup" tabindex="-1">安装向导功能 (features/setup) <a class="header-anchor" href="#安装向导功能-features-setup" aria-label="Permalink to &quot;安装向导功能 (features/setup)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>features/setup/SetupPage.tsx</code></td><td>5 步安装向导：创建账户→qBittorrent→TMDB→偏好设置→验证</td></tr></tbody></table><h3 id="主功能-features-home" tabindex="-1">主功能 (features/home) <a class="header-anchor" href="#主功能-features-home" aria-label="Permalink to &quot;主功能 (features/home)&quot;">​</a></h3><p><strong>布局组件</strong></p><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>layout/HomePage.tsx</code></td><td>主布局：Sidebar + 内容区 + React Router 路由出口</td></tr><tr><td><code>layout/SideBar.tsx</code></td><td>可折叠侧边栏：导航链接、用户信息、语言切换、退出登录</td></tr><tr><td><code>layout/SideBarButton.tsx</code></td><td>侧边栏按钮复用组件：图标+标签+激活状态</td></tr></tbody></table><p><strong>内容组件</strong></p><table tabindex="0"><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td><code>components/HomePageContent.tsx</code></td><td>今日放送主页：从 API 获取数据、展示多个 AnimeInfoFlow 轮播</td></tr><tr><td><code>components/AnimeInfoFlow.tsx</code></td><td>横向可滚动番剧卡片轮播，支持鼠标拖拽</td></tr><tr><td><code>components/AnimeCard.tsx</code></td><td>单个番剧卡片：封面图、评分、标题、hover 效果</td></tr><tr><td><code>components/AnimeDetailModal.tsx</code></td><td>番剧详情弹窗：背景图、双语简介、外部链接，<code>createPortal</code> 渲染</td></tr><tr><td><code>components/SearchPage.tsx</code></td><td>搜索页面：Mikan 搜索、RSS 过滤、资源列表、一键下载</td></tr><tr><td><code>components/DownloadPage.tsx</code></td><td>下载管理页：qBittorrent 种子列表、进度、暂停/恢复/删除</td></tr><tr><td><code>components/MySubscriptionDownloadPage.tsx</code></td><td>订阅下载页：订阅列表 + 各订阅下载历史</td></tr><tr><td><code>components/SubscriptionDownloadDetailModal.tsx</code></td><td>订阅详情弹窗：RSS 配置、下载历史记录</td></tr><tr><td><code>components/SubscriptionInfo.tsx</code></td><td>订阅信息展示：订阅配置摘要</td></tr><tr><td><code>components/DownloadActionButton.tsx</code></td><td>下载动作按钮：根据状态显示不同按钮（下载/已订阅/取消）</td></tr><tr><td><code>components/DownloadEpisodeGroup.tsx</code></td><td>按集数分组的资源列表</td></tr><tr><td><code>components/SettingPage.tsx</code></td><td>设置页面：qBittorrent、TMDB Token、轮询配置</td></tr></tbody></table><hr><h2 id="后端-api-参考" tabindex="-1">后端 API 参考 <a class="header-anchor" href="#后端-api-参考" aria-label="Permalink to &quot;后端 API 参考&quot;">​</a></h2><p>所有 API 均需 JWT 认证（Bearer Token），标注 <code>🔓</code> 的端点除外。</p><h3 id="认证-api-auth" tabindex="-1">认证 <code>/api/auth</code> <a class="header-anchor" href="#认证-api-auth" aria-label="Permalink to &quot;认证 `/api/auth`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/auth/status</code></td><td>🔓</td><td>查询系统是否已初始化、当前是否已登录</td></tr><tr><td><code>POST</code></td><td><code>/api/auth/login</code></td><td>🔓</td><td>用户登录，返回 JWT Token</td></tr><tr><td><code>POST</code></td><td><code>/api/auth/setup</code></td><td>🔓</td><td>首次安装向导，创建初始账户和配置</td></tr><tr><td><code>POST</code></td><td><code>/api/auth/change-credentials</code></td><td>🔒</td><td>修改用户名或密码</td></tr><tr><td><code>GET</code></td><td><code>/api/auth/background</code></td><td>🔓</td><td>获取登录页背景图（返回图片文件）</td></tr><tr><td><code>POST</code></td><td><code>/api/auth/background</code></td><td>🔒</td><td>上传自定义登录背景图</td></tr><tr><td><code>DELETE</code></td><td><code>/api/auth/background</code></td><td>🔒</td><td>删除自定义背景图，恢复默认</td></tr></tbody></table><h3 id="动漫数据-api-anime" tabindex="-1">动漫数据 <code>/api/anime</code> <a class="header-anchor" href="#动漫数据-api-anime" aria-label="Permalink to &quot;动漫数据 `/api/anime`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/anime/today</code></td><td>🔒</td><td>获取本周放送番剧（DB优先，回退实时聚合）</td></tr><tr><td><code>GET</code></td><td><code>/api/anime/top/bangumi</code></td><td>🔒</td><td>Bangumi 评分 Top 10</td></tr><tr><td><code>GET</code></td><td><code>/api/anime/top/anilist</code></td><td>🔒</td><td>AniList 趋势 Top 10</td></tr><tr><td><code>GET</code></td><td><code>/api/anime/top/mal</code></td><td>🔒</td><td>MyAnimeList Top 10（via Jikan）</td></tr><tr><td><code>GET</code></td><td><code>/api/anime/search?keyword=</code></td><td>🔒</td><td>搜索动漫（Mikan 主源 + Bangumi 补充）</td></tr><tr><td><code>GET</code></td><td><code>/api/anime/random</code></td><td>🔒</td><td>获取随机推荐番剧列表</td></tr><tr><td><code>POST</code></td><td><code>/api/anime/batch</code></td><td>🔒</td><td>批量查询 Bangumi ID 对应的番剧信息（从本地 DB）</td></tr></tbody></table><h3 id="订阅管理-api-subscription" tabindex="-1">订阅管理 <code>/api/subscription</code> <a class="header-anchor" href="#订阅管理-api-subscription" aria-label="Permalink to &quot;订阅管理 `/api/subscription`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/subscription</code></td><td>🔒</td><td>获取所有订阅列表</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/{id}</code></td><td>🔒</td><td>获取单个订阅详情</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/bangumi/{bangumiId}</code></td><td>🔒</td><td>按 Bangumi ID 查询订阅</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription</code></td><td>🔒</td><td>创建新订阅</td></tr><tr><td><code>PUT</code></td><td><code>/api/subscription/{id}</code></td><td>🔒</td><td>更新订阅配置</td></tr><tr><td><code>DELETE</code></td><td><code>/api/subscription/{id}</code></td><td>🔒</td><td>删除订阅（保留下载历史）</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription/{id}/toggle?enabled=</code></td><td>🔒</td><td>启用/禁用订阅</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription/{id}/check</code></td><td>🔒</td><td>立即手动检查该订阅 RSS</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription/check-all</code></td><td>🔒</td><td>立即检查所有已启用订阅</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription/ensure</code></td><td>🔒</td><td>确保订阅存在且启用（幂等，不存在则创建）</td></tr><tr><td><code>POST</code></td><td><code>/api/subscription/{id}/cancel</code></td><td>🔒</td><td>取消订阅（可选删除已下载文件）</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/{id}/history</code></td><td>🔒</td><td>获取订阅下载历史</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/{id}/task-hashes</code></td><td>🔒</td><td>获取订阅关联的 qBittorrent 任务 Hash</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/manual-anime</code></td><td>🔒</td><td>获取有手动下载但无订阅的番剧列表</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/manual-anime/{bangumiId}/history</code></td><td>🔒</td><td>获取番剧手动下载历史</td></tr><tr><td><code>GET</code></td><td><code>/api/subscription/manual-anime/{bangumiId}/task-hashes</code></td><td>🔒</td><td>获取手动下载的任务 Hash</td></tr></tbody></table><h3 id="mikan-下载-api-mikan" tabindex="-1">Mikan &amp; 下载 <code>/api/mikan</code> <a class="header-anchor" href="#mikan-下载-api-mikan" aria-label="Permalink to &quot;Mikan &amp; 下载 `/api/mikan`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/mikan/search?keyword=</code></td><td>🔒</td><td>在 Mikan 搜索番剧，返回所有季度列表</td></tr><tr><td><code>GET</code></td><td><code>/api/mikan/search-entries?keyword=</code></td><td>🔒</td><td>搜索 Mikan 番剧条目</td></tr><tr><td><code>POST</code></td><td><code>/api/mikan/correct-bangumi-id</code></td><td>🔒</td><td>修正 Mikan Bangumi ID 映射</td></tr><tr><td><code>GET</code></td><td><code>/api/mikan/subgroups?mikanBangumiId=</code></td><td>🔒</td><td>获取番剧的字幕组列表（名称/ID）</td></tr><tr><td><code>GET</code></td><td><code>/api/mikan/feed?mikanBangumiId=&amp;subgroupId=</code></td><td>🔒</td><td>获取番剧 RSS 资源列表（含集数归一化）</td></tr><tr><td><code>GET</code></td><td><code>/api/mikan/filter</code></td><td>🔒</td><td>按分辨率/字幕类型过滤 RSS 列表</td></tr><tr><td><code>POST</code></td><td><code>/api/mikan/download</code></td><td>🔒</td><td>发送种子到 qBittorrent 下载</td></tr><tr><td><code>GET</code></td><td><code>/api/mikan/torrents?hashes=</code></td><td>🔒</td><td>查询指定 Hash 的 qBittorrent 下载状态</td></tr><tr><td><code>POST</code></td><td><code>/api/mikan/torrents/{hash}/pause</code></td><td>🔒</td><td>暂停指定种子</td></tr><tr><td><code>POST</code></td><td><code>/api/mikan/torrents/{hash}/resume</code></td><td>🔒</td><td>恢复指定种子</td></tr><tr><td><code>DELETE</code></td><td><code>/api/mikan/torrents/{hash}</code></td><td>🔒</td><td>删除指定种子（可选删文件）</td></tr></tbody></table><h3 id="设置-api-settings" tabindex="-1">设置 <code>/api/settings</code> <a class="header-anchor" href="#设置-api-settings" aria-label="Permalink to &quot;设置 `/api/settings`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/settings/tokens</code></td><td>🔒</td><td>查看 Token 配置状态（返回脱敏信息）</td></tr><tr><td><code>PUT</code></td><td><code>/api/settings/tokens</code></td><td>🔒</td><td>更新 TMDB Token</td></tr><tr><td><code>DELETE</code></td><td><code>/api/settings/tokens</code></td><td>🔒</td><td>删除已存储的 TMDB Token</td></tr><tr><td><code>GET</code></td><td><code>/api/settings/profile</code></td><td>🔒</td><td>获取设置页完整配置（qBittorrent/Mikan/Token）</td></tr><tr><td><code>PUT</code></td><td><code>/api/settings/profile</code></td><td>🔒</td><td>保存设置页配置</td></tr><tr><td><code>POST</code></td><td><code>/api/settings/test/tmdb</code></td><td>🔓</td><td>测试 TMDB Token 有效性</td></tr><tr><td><code>POST</code></td><td><code>/api/settings/test/qbittorrent</code></td><td>🔓</td><td>测试 qBittorrent 连接</td></tr><tr><td><code>POST</code></td><td><code>/api/settings/test/mikan-polling</code></td><td>🔓</td><td>验证 Mikan 轮询间隔配置</td></tr></tbody></table><h3 id="管理-api-admin" tabindex="-1">管理 <code>/api/admin</code> <a class="header-anchor" href="#管理-api-admin" aria-label="Permalink to &quot;管理 `/api/admin`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/api/admin/prefetch/status</code></td><td>🔒</td><td>获取预取服务运行状态</td></tr><tr><td><code>POST</code></td><td><code>/api/admin/prefetch</code></td><td>🔒</td><td>手动触发一次数据预取</td></tr><tr><td><code>GET</code></td><td><code>/api/admin/prefetch/stats</code></td><td>🔒</td><td>获取数据库预取统计（条数/最新时间）</td></tr><tr><td><code>DELETE</code></td><td><code>/api/admin/prefetch/data</code></td><td>🔒</td><td>清空所有预取数据</td></tr></tbody></table><h3 id="健康检查-health" tabindex="-1">健康检查 <code>/health</code> <a class="header-anchor" href="#健康检查-health" aria-label="Permalink to &quot;健康检查 `/health`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Method</th><th>路径</th><th>认证</th><th>说明</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/health</code></td><td>🔓</td><td>服务心跳检查，返回 <code>{ status: &quot;healthy&quot; }</code></td></tr><tr><td><code>GET</code></td><td><code>/health/dependencies</code></td><td>🔒</td><td>检查 Bangumi/TMDB/AniList 连通性</td></tr></tbody></table><hr><h2 id="数据库-schema" tabindex="-1">数据库 Schema <a class="header-anchor" href="#数据库-schema" aria-label="Permalink to &quot;数据库 Schema&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>AnimeInfo          AnimeImages        Subscriptions       DownloadHistory</span></span>
<span class="line"><span>──────────         ──────────         ─────────────       ───────────────</span></span>
<span class="line"><span>BangumiId (PK)     BangumiId (PK)     Id (PK AUTO)        Id (PK AUTO)</span></span>
<span class="line"><span>NameJapanese       PosterUrl          BangumiId           SubscriptionId (FK)</span></span>
<span class="line"><span>NameChinese        BackdropUrl        Title               TorrentUrl</span></span>
<span class="line"><span>NameEnglish        TmdbId             MikanBangumiId      TorrentHash (UNIQUE)</span></span>
<span class="line"><span>DescChinese        AniListId          SubgroupId          Title</span></span>
<span class="line"><span>DescEnglish        CreatedAt          SubgroupName        FileSize</span></span>
<span class="line"><span>Score              UpdatedAt          KeywordInclude      Status (0-4)</span></span>
<span class="line"><span>ImagePortrait                         KeywordExclude      DownloadSource</span></span>
<span class="line"><span>ImageLandscape                        IsEnabled           ErrorMessage</span></span>
<span class="line"><span>TmdbId                                LastCheckedAt       PublishedAt</span></span>
<span class="line"><span>AnilistId                             LastDownloadAt      DiscoveredAt</span></span>
<span class="line"><span>MikanBangumiId                        DownloadCount       DownloadedAt</span></span>
<span class="line"><span>Weekday                               CreatedAt</span></span>
<span class="line"><span>AirDate                               UpdatedAt</span></span>
<span class="line"><span>IsPreFetched</span></span>
<span class="line"><span>CreatedAt/UpdatedAt</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>MikanFeedCache         MikanFeedItem         MikanSubgroup</span></span>
<span class="line"><span>──────────────         ─────────────         ─────────────</span></span>
<span class="line"><span>Id (PK)                Id (PK)               MikanBangumiId (PK)</span></span>
<span class="line"><span>MikanBangumiId         FeedCacheId (FK)      SubgroupId (PK)</span></span>
<span class="line"><span>SubgroupId             Title                 SubgroupName</span></span>
<span class="line"><span>FetchedAt              TorrentUrl            CreatedAt</span></span>
<span class="line"><span>ExpiresAt              TorrentHash</span></span>
<span class="line"><span>                       PublishedAt</span></span>
<span class="line"><span>                       FileSize</span></span>
<span class="line"><span>                       Episode</span></span>
<span class="line"><span></span></span>
<span class="line"><span>TopAnimeCache          User</span></span>
<span class="line"><span>─────────────          ────</span></span>
<span class="line"><span>Id (PK)                Id (PK AUTO)</span></span>
<span class="line"><span>Source                 Username (UNIQUE)</span></span>
<span class="line"><span>DataJson               PasswordHash</span></span>
<span class="line"><span>FetchedAt              CreatedAt</span></span>
<span class="line"><span>ExpiresAt              UpdatedAt</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/AnimeSub/zh/features.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>功能说明</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/AnimeSub/zh/faq.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>常见问题</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the MIT License.</p><p class="copyright" data-v-566314d4>Copyright © 2026 AnimeSub Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_changelog.md\":\"BK8UHNZB\",\"en_configuration.md\":\"C0DbPDAH\",\"en_dev-reference.md\":\"BFU_LATx\",\"en_faq.md\":\"DkHr0Xyf\",\"en_features.md\":\"DC94-Hxk\",\"en_index.md\":\"VtTfS4U9\",\"en_introduction.md\":\"Bxit0jdk\",\"en_quick-start.md\":\"LRWbKkQP\",\"index.md\":\"C-oKDbQ_\",\"zh_changelog.md\":\"BQnr5SgR\",\"zh_configuration.md\":\"D7-JuNXw\",\"zh_dev-reference.md\":\"BCK0ZQUc\",\"zh_faq.md\":\"D9MHeL-B\",\"zh_features.md\":\"opb5-fKI\",\"zh_index.md\":\"SQqMID48\",\"zh_introduction.md\":\"P5I1rHnu\",\"zh_quick-start.md\":\"C3XUE0f_\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AnimeSub\",\"description\":\"Anime subscription and auto-download application\",\"base\":\"/AnimeSub/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hhlyyng/anime-subscription\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2026 AnimeSub Contributors\"}},\"locales\":{\"zh\":{\"label\":\"中文\",\"lang\":\"zh-CN\",\"title\":\"AnimeSub\",\"description\":\"动漫订阅与自动下载应用\",\"themeConfig\":{\"nav\":[{\"text\":\"项目介绍\",\"link\":\"/zh/introduction\"},{\"text\":\"快速开始\",\"link\":\"/zh/quick-start\"},{\"text\":\"详细文档\",\"link\":\"/zh/configuration\"}],\"sidebar\":{\"/zh/\":[{\"text\":\"指南\",\"items\":[{\"text\":\"项目介绍\",\"link\":\"/zh/introduction\"},{\"text\":\"快速开始\",\"link\":\"/zh/quick-start\"}]},{\"text\":\"参考\",\"items\":[{\"text\":\"配置参考\",\"link\":\"/zh/configuration\"},{\"text\":\"功能说明\",\"link\":\"/zh/features\"}]},{\"text\":\"开发参考\",\"items\":[{\"text\":\"架构 & 文件说明 & API\",\"link\":\"/zh/dev-reference\"}]},{\"text\":\"其他\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/zh/faq\"},{\"text\":\"更新日志\",\"link\":\"/zh/changelog\"}]}]}}},\"en\":{\"label\":\"English\",\"lang\":\"en-US\",\"title\":\"AnimeSub\",\"description\":\"Anime subscription and auto-download application\",\"themeConfig\":{\"nav\":[{\"text\":\"Introduction\",\"link\":\"/en/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/quick-start\"},{\"text\":\"Docs\",\"link\":\"/en/configuration\"}],\"sidebar\":{\"/en/\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/en/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/quick-start\"}]},{\"text\":\"Reference\",\"items\":[{\"text\":\"Configuration\",\"link\":\"/en/configuration\"},{\"text\":\"Features\",\"link\":\"/en/features\"}]},{\"text\":\"Developer Reference\",\"items\":[{\"text\":\"Architecture & Files & API\",\"link\":\"/en/dev-reference\"}]},{\"text\":\"More\",\"items\":[{\"text\":\"FAQ\",\"link\":\"/en/faq\"},{\"text\":\"Changelog\",\"link\":\"/en/changelog\"}]}]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>